#!/usr/bin/env python

#This is the file to make my first  shake
#a proof of concept with only protein and water
#testing github

import rospy
import time
from std_msgs.msg import String
from shakestation.msg import JointPose

def build_shake():
	#create the ROS node for the application	
	rospy.init_node('shakemaker')

	#move the manipulator to the initial position
	pub = rospy.Publisher('/robotis/base/joint_pose_msg',JointPose, queue_size=1)
	time.sleep(1) #time for publisher to register with master
	msg0 = JointPose()
	msg0.name = ["joint1", "joint2", "joint3", "joint4", "joint5", "joint6"]
	msg0.value = [0.0, -0.6579891280018623, 0.05009094953223726, 0.0, 0.6085963101704226, 0.0]
	pub.publish(msg0)
	print("moved to start position")

	#move the manipulator to the initial cup position
	msg1 = JointPose()
	msg1.name = ["joint1", "joint2", "joint3", "joint4", "joint5", "joint6"]
	msg1.value = [-0.7819075048934596, 0.9948376736367678, 0.43493604959698695, -0.2617993877991494, -1.53588974175501, -0.00890117918517108]
	pub.publish(msg1)
	print("moved to initial cup postion")

	#move the manipulator to the grasp cup position
	msg1 = JointPose()
	msg1.name = ["joint1", "joint2", "joint3", "joint4", "joint5", "joint6"]
	msg1.value = [-0.7819075048934596, 0.9948376736367678, 0.43493604959698695, 0.0, -1.53588974175501, -0.00890117918517108]
	pub.publish(msg1)
	print("moved to initial cup postion")
	
if __name__=='__main__':
	try:
		build_shake()
	except rospy.ROSInterruptException:
		pass
